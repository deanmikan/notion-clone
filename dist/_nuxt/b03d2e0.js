(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{355:function(t,e,n){"use strict";e.a={methods:{getNextSibling:function(t,e){var n=t.nextElementSibling;if(!e)return n;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}},getPreviousSibling:function(t,e){var n=t.previousElementSibling;if(!e)return n;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}}}},356:function(t,e,n){var content=n(364);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(10).default)("4630bf11",content,!0,{sourceMap:!1})},357:function(t,e,n){var content=n(368);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(10).default)("67962871",content,!0,{sourceMap:!1})},358:function(t,e,n){"use strict";n.r(e);var o=n(130),r=["ğŸ˜„","ğŸ˜ƒ","ğŸ˜€","ğŸ˜Š","ğŸ˜‰","ğŸ˜","ğŸ˜˜","ğŸ˜š","ğŸ˜—","ğŸ˜™","ğŸ˜œ","ğŸ˜","ğŸ˜›","ğŸ˜³","ğŸ˜","ğŸ˜”","ğŸ˜Œ","ğŸ˜’","ğŸ˜","ğŸ˜£","ğŸ˜¢","ğŸ˜‚","ğŸ˜­","ğŸ˜ª","ğŸ˜¥","ğŸ˜°","ğŸ˜…","ğŸ˜“","ğŸ˜©","ğŸ˜«","ğŸ˜¨","ğŸ˜±","ğŸ˜ ","ğŸ˜¡","ğŸ˜¤","ğŸ˜–","ğŸ˜†","ğŸ˜‹","ğŸ˜·","ğŸ˜","ğŸ˜´","ğŸ˜µ","ğŸ˜²","ğŸ˜Ÿ","ğŸ˜¦","ğŸ˜§","ğŸ˜ˆ","ğŸ‘¿","ğŸ˜®","ğŸ˜¬","ğŸ˜","ğŸ˜•","ğŸ˜¯","ğŸ˜¶","ğŸ˜‡","ğŸ˜","ğŸ˜‘","ğŸ‘²","ğŸ‘³","ğŸ‘®","ğŸ‘·","ğŸ’‚","ğŸ‘¶","ğŸ‘¦","ğŸ‘§","ğŸ‘¨","ğŸ‘©","ğŸ‘´","ğŸ‘µ","ğŸ‘±","ğŸ‘¼","ğŸ‘¸","ğŸ˜º","ğŸ˜¸","ğŸ˜»","ğŸ˜½","ğŸ˜¼","ğŸ™€","ğŸ˜¿","ğŸ˜¹","ğŸ˜¾","ğŸ‘¹","ğŸ‘º","ğŸ™ˆ","ğŸ™‰","ğŸ™Š","ğŸ’€","ğŸ‘½","ğŸ’©","ğŸ”¥","âœ¨","ğŸŒŸ","ğŸ’«","ğŸ’¥","ğŸ’¢","ğŸ’¦","ğŸ’§","ğŸ’¤","ğŸ’¨","ğŸ‘‚","ğŸ‘€","ğŸ‘ƒ","ğŸ‘…","ğŸ‘„","ğŸ‘","ğŸ‘","ğŸ‘Œ","ğŸ‘Š","âœŠ","âœŒ","ğŸ‘‹","âœ‹","ğŸ‘","ğŸ‘†","ğŸ‘‡","ğŸ‘‰","ğŸ‘ˆ","ğŸ™Œ","ğŸ™","â˜","ğŸ‘","ğŸ’ª","ğŸš¶","ğŸƒ","ğŸ’ƒ","ğŸ‘«","ğŸ‘ª","ğŸ‘¬","ğŸ‘­","ğŸ’","ğŸ’‘","ğŸ‘¯","ğŸ™†","ğŸ™…","ğŸ’","ğŸ™‹","ğŸ’†","ğŸ’‡","ğŸ’…","ğŸ‘°","ğŸ™","ğŸ™","ğŸ™‡","ğŸ©","ğŸ‘‘","ğŸ‘’","ğŸ‘Ÿ","ğŸ‘","ğŸ‘¡","ğŸ‘ ","ğŸ‘¢","ğŸ‘•","ğŸ‘”","ğŸ‘š","ğŸ‘—","ğŸ½","ğŸ‘–","ğŸ‘˜","ğŸ‘™","ğŸ’¼","ğŸ‘œ","ğŸ‘","ğŸ‘›","ğŸ‘“","ğŸ€","ğŸŒ‚","ğŸ’„","ğŸ’›","ğŸ’™","ğŸ’œ","ğŸ’š","â¤","ğŸ’”","ğŸ’—","ğŸ’“","ğŸ’•","ğŸ’–","ğŸ’","ğŸ’˜","ğŸ’Œ","ğŸ’‹","ğŸ’","ğŸ’","ğŸ‘¤","ğŸ‘¥","ğŸ’¬","ğŸ‘£","ğŸ’­","ğŸ¶","ğŸº","ğŸ±","ğŸ­","ğŸ¹","ğŸ°","ğŸ¸","ğŸ¯","ğŸ¨","ğŸ»","ğŸ·","ğŸ½","ğŸ®","ğŸ—","ğŸµ","ğŸ’","ğŸ´","ğŸ‘","ğŸ˜","ğŸ¼","ğŸ§","ğŸ¦","ğŸ¤","ğŸ¥","ğŸ£","ğŸ”","ğŸ","ğŸ¢","ğŸ›","ğŸ","ğŸœ","ğŸ","ğŸŒ","ğŸ™","ğŸš","ğŸ ","ğŸŸ","ğŸ¬","ğŸ³","ğŸ‹","ğŸ„","ğŸ","ğŸ€","ğŸƒ","ğŸ…","ğŸ‡","ğŸ‰","ğŸ","ğŸ","ğŸ“","ğŸ•","ğŸ–","ğŸ","ğŸ‚","ğŸ²","ğŸ¡","ğŸŠ","ğŸ«","ğŸª","ğŸ†","ğŸˆ","ğŸ©","ğŸ¾","ğŸ’","ğŸŒ¸","ğŸŒ·","ğŸ€","ğŸŒ¹","ğŸŒ»","ğŸŒº","ğŸ","ğŸƒ","ğŸ‚","ğŸŒ¿","ğŸŒ¾","ğŸ„","ğŸŒµ","ğŸŒ´","ğŸŒ²","ğŸŒ³","ğŸŒ°","ğŸŒ±","ğŸŒ¼","ğŸŒ","ğŸŒ","ğŸŒ","ğŸŒš","ğŸŒ‘","ğŸŒ’","ğŸŒ“","ğŸŒ”","ğŸŒ•","ğŸŒ–","ğŸŒ—","ğŸŒ˜","ğŸŒœ","ğŸŒ›","ğŸŒ™","ğŸŒ","ğŸŒ","ğŸŒ","ğŸŒ‹","ğŸŒŒ","ğŸŒ ","â­","â˜€","â›…","â˜","âš¡","â˜”","â„","â›„","ğŸŒ€","ğŸŒ","ğŸŒˆ","ğŸŒŠ","ğŸ","ğŸ’","ğŸ","ğŸ’","ğŸ“","ğŸ","ğŸ†","ğŸ‡","ğŸ","ğŸ‘","ğŸƒ","ğŸ‘»","ğŸ…","ğŸ„","ğŸ","ğŸ‹","ğŸ‰","ğŸŠ","ğŸˆ","ğŸŒ","ğŸ”®","ğŸ¥","ğŸ“·","ğŸ“¹","ğŸ“¼","ğŸ’¿","ğŸ“€","ğŸ’½","ğŸ’¾","ğŸ’»","ğŸ“±","â˜","ğŸ“","ğŸ“Ÿ","ğŸ“ ","ğŸ“¡","ğŸ“º","ğŸ“»","ğŸ”Š","ğŸ”‰","ğŸ”ˆ","ğŸ”‡","ğŸ””","ğŸ”•","ğŸ“¢","ğŸ“£","â³","âŒ›","â°","âŒš","ğŸ”“","ğŸ”’","ğŸ”","ğŸ”","ğŸ”‘","ğŸ”","ğŸ’¡","ğŸ”¦","ğŸ”†","ğŸ”…","ğŸ”Œ","ğŸ”‹","ğŸ”","ğŸ›","ğŸ›€","ğŸš¿","ğŸš½","ğŸ”§","ğŸ”©","ğŸ”¨","ğŸšª","ğŸš¬","ğŸ’£","ğŸ”«","ğŸ”ª","ğŸ’Š","ğŸ’‰","ğŸ’°","ğŸ’´","ğŸ’µ","ğŸ’·","ğŸ’¶","ğŸ’³","ğŸ’¸","ğŸ“²","ğŸ“§","ğŸ“¥","ğŸ“¤","âœ‰","ğŸ“©","ğŸ“¨","ğŸ“¯","ğŸ“«","ğŸ“ª","ğŸ“¬","ğŸ“­","ğŸ“®","ğŸ“¦","ğŸ“","ğŸ“„","ğŸ“ƒ","ğŸ“‘","ğŸ“Š","ğŸ“ˆ","ğŸ“‰","ğŸ“œ","ğŸ“‹","ğŸ“…","ğŸ“†","ğŸ“‡","ğŸ“","ğŸ“‚","âœ‚","ğŸ“Œ","ğŸ“","âœ’","âœ","ğŸ“","ğŸ“","ğŸ“•","ğŸ“—","ğŸ“˜","ğŸ“™","ğŸ““","ğŸ“”","ğŸ“’","ğŸ“š","ğŸ“–","ğŸ”–","ğŸ“›","ğŸ”¬","ğŸ”­","ğŸ“°","ğŸ¨","ğŸ¬","ğŸ¤","ğŸ§","ğŸ¼","ğŸµ","ğŸ¶","ğŸ¹","ğŸ»","ğŸº","ğŸ·","ğŸ¸","ğŸ‘¾","ğŸ®","ğŸƒ","ğŸ´","ğŸ€„","ğŸ²","ğŸ¯","ğŸˆ","ğŸ€","âš½","âš¾","ğŸ¾","ğŸ±","ğŸ‰","ğŸ³","â›³","ğŸšµ","ğŸš´","ğŸ","ğŸ‡","ğŸ†","ğŸ¿","ğŸ‚","ğŸŠ","ğŸ„","ğŸ£","â˜•","ğŸµ","ğŸ¶","ğŸ¼","ğŸº","ğŸ»","ğŸ¸","ğŸ¹","ğŸ·","ğŸ´","ğŸ•","ğŸ”","ğŸŸ","ğŸ—","ğŸ–","ğŸ","ğŸ›","ğŸ¤","ğŸ±","ğŸ£","ğŸ¥","ğŸ™","ğŸ˜","ğŸš","ğŸœ","ğŸ²","ğŸ¢","ğŸ¡","ğŸ³","ğŸ","ğŸ©","ğŸ®","ğŸ¦","ğŸ¨","ğŸ§","ğŸ‚","ğŸ°","ğŸª","ğŸ«","ğŸ¬","ğŸ­","ğŸ¯","ğŸ","ğŸ","ğŸŠ","ğŸ‹","ğŸ’","ğŸ‡","ğŸ‰","ğŸ“","ğŸ‘","ğŸˆ","ğŸŒ","ğŸ","ğŸ","ğŸ ","ğŸ†","ğŸ…","ğŸŒ½","ğŸ ","ğŸ¡","ğŸ«","ğŸ¢","ğŸ£","ğŸ¥","ğŸ¦","ğŸª","ğŸ©","ğŸ¨","ğŸ’’","â›ª","ğŸ¬","ğŸ¤","ğŸŒ‡","ğŸŒ†","ğŸ¯","ğŸ°","â›º","ğŸ­","ğŸ—¼","ğŸ—¾","ğŸ—»","ğŸŒ„","ğŸŒ…","ğŸŒƒ","ğŸ—½","ğŸŒ‰","ğŸ ","ğŸ¡","â›²","ğŸ¢","ğŸš¢","â›µ","ğŸš¤","ğŸš£","âš“","ğŸš€","âœˆ","ğŸ’º","ğŸš","ğŸš‚","ğŸšŠ","ğŸš‰","ğŸš","ğŸš†","ğŸš„","ğŸš…","ğŸšˆ","ğŸš‡","ğŸš","ğŸš‹","ğŸšƒ","ğŸš","ğŸšŒ","ğŸš","ğŸš™","ğŸš˜","ğŸš—","ğŸš•","ğŸš–","ğŸš›","ğŸšš","ğŸš¨","ğŸš“","ğŸš”","ğŸš’","ğŸš‘","ğŸš","ğŸš²","ğŸš¡","ğŸšŸ","ğŸš ","ğŸšœ","ğŸ’ˆ","ğŸš","ğŸ«","ğŸš¦","ğŸš¥","âš ","ğŸš§","ğŸ”°","â›½","ğŸ®","ğŸ°","â™¨","ğŸ—¿","ğŸª","ğŸ­","ğŸ“","ğŸš©","â¬†","â¬‡","â¬…","â¡","ğŸ” ","ğŸ”¡","ğŸ”¤","â†—","â†–","â†˜","â†™","â†”","â†•","ğŸ”„","â—€","â–¶","ğŸ”¼","ğŸ”½","â†©","â†ª","â„¹","âª","â©","â«","â¬","â¤µ","â¤´","ğŸ†—","ğŸ”€","ğŸ”","ğŸ”‚","ğŸ†•","ğŸ†™","ğŸ†’","ğŸ†“","ğŸ†–","ğŸ“¶","ğŸ¦","ğŸˆ","ğŸˆ¯","ğŸˆ³","ğŸˆµ","ğŸˆ´","ğŸˆ²","ğŸ‰","ğŸˆ¹","ğŸˆº","ğŸˆ¶","ğŸˆš","ğŸš»","ğŸš¹","ğŸšº","ğŸš¼","ğŸš¾","ğŸš°","ğŸš®","ğŸ…¿","â™¿","ğŸš­","ğŸˆ·","ğŸˆ¸","ğŸˆ‚","â“‚","ğŸ›‚","ğŸ›„","ğŸ›…","ğŸ›ƒ","ğŸ‰‘","ãŠ™","ãŠ—","ğŸ†‘","ğŸ†˜","ğŸ†”","ğŸš«","ğŸ”","ğŸ“µ","ğŸš¯","ğŸš±","ğŸš³","ğŸš·","ğŸš¸","â›”","âœ³","â‡","â","âœ…","âœ´","ğŸ’Ÿ","ğŸ†š","ğŸ“³","ğŸ“´","ğŸ…°","ğŸ…±","ğŸ†","ğŸ…¾","ğŸ’ ","â¿","â™»","â™ˆ","â™‰","â™Š","â™‹","â™Œ","â™","â™","â™","â™","â™‘","â™’","â™“","â›","ğŸ”¯","ğŸ§","ğŸ’¹","ğŸ’²","ğŸ’±","Â©","Â®","â„¢","ã€½","ã€°","ğŸ”","ğŸ”š","ğŸ”™","ğŸ”›","ğŸ”œ","âŒ","â­•","â—","â“","â•","â”","ğŸ”ƒ","ğŸ•›","ğŸ•§","ğŸ•","ğŸ•œ","ğŸ•‘","ğŸ•","ğŸ•’","ğŸ•","ğŸ•“","ğŸ•Ÿ","ğŸ•”","ğŸ• ","ğŸ••","ğŸ•–","ğŸ•—","ğŸ•˜","ğŸ•™","ğŸ•š","ğŸ•¡","ğŸ•¢","ğŸ•£","ğŸ•¤","ğŸ•¥","ğŸ•¦","âœ–","â•","â–","â—","â™ ","â™¥","â™£","â™¦","ğŸ’®","ğŸ’¯","âœ”","â˜‘","ğŸ”˜","ğŸ”—","â°","ğŸ”±","ğŸ”²","ğŸ”³","â—¼","â—»","â—¾","â—½","â–ª","â–«","ğŸ”º","â¬œ","â¬›","âš«","âšª","ğŸ”´","ğŸ”µ","ğŸ”»","ğŸ”¶","ğŸ”·","ğŸ”¸","ğŸ”¹"],c=n(204),l=n.n(c),d={mixins:[],components:{"n-button":o.default},props:{page:Object},validations:{},data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{addEmoji:function(){this.page.emoji||(this.page.emoji=l.a.sample(r),this.$store.commit("EDIT_PAGE",this.page))},addCover:function(){this.page.img||(this.page.img="https://images.unsplash.com/photo-1547280528-5f9e9bfdef9a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",this.$store.commit("EDIT_PAGE",this.page))}},watch:{},provide:function(){return{}},inject:[]},m=n(34),f=n(35),h=n.n(f),v=n(345),k=n(222),x=n(374),w=n(127),y=n(375),j=n(346),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hover;return[n("v-row",{staticClass:"flex-column flex-nowrap",style:{minHeight:t.page.emoji?"150px":"104px"},attrs:{"no-gutters":"",justify:"end"}},[t.page.img?n("v-img",{staticStyle:{position:"absolute",left:"0",top:"0"},attrs:{height:"250",width:"100%",src:t.page.img},scopedSlots:t._u([{key:"placeholder",fn:function(){return[n("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"grey"}})],1)]},proxy:!0}],null,!0)}):t._e(),t._v(" "),t.page.emoji?n("v-col",{staticStyle:{"z-index":"1"},style:{marginTop:t.page.img?"210px":""},attrs:{cols:"auto"}},[n("n-button",{attrs:{dense:""}},[n("span",{staticStyle:{"font-size":"50px"}},[t._v(t._s(t.page.emoji))])])],1):t._e(),t._v(" "),n("v-col",{staticStyle:{"min-height":"29px"},style:{marginTop:t.page.img&&!t.page.emoji?"260px":""},attrs:{cols:"auto"}},[n("v-fade-transition",[o?n("div",{staticClass:"d-flex"},[t.page.emoji?t._e():n("n-button",{attrs:{"text-color":"rgba(255, 255, 255, 0.4)",icon:"mdi-emoticon"},on:{click:t.addEmoji}},[t._v("\n            Add icon\n          ")]),t._v(" "),t.page.img?t._e():n("n-button",{attrs:{"text-color":"rgba(255, 255, 255, 0.4)",icon:"mdi-image"},on:{click:t.addCover}},[t._v("\n            Add cover\n          ")]),t._v(" "),n("n-button",{attrs:{"text-color":"rgba(255, 255, 255, 0.4)",icon:"mdi-comment-text"}},[t._v("\n            Add comment\n          ")])],1):t._e()])],1)],1)]}}])})}),[],!1,null,null,null);e.default=component.exports;h()(component,{NButton:n(130).default}),h()(component,{VCol:v.a,VFadeTransition:k.b,VHover:x.a,VImg:w.a,VProgressCircular:y.a,VRow:j.a})},359:function(t,e,n){"use strict";n.r(e);n(12),n(18),n(36),n(40),n(43),n(70);var o=n(14),r=n(2),c=n(355),l=n(361);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={mixins:[c.a],components:{CommandMenu:l.default},props:{block:Object},validations:{},data:function(){return{htmlBackup:null,previousKey:null,commandMenu:!1,commandItem:null,focused:!1,html:null}},created:function(){},mounted:function(){this.html=this.block.html,this.$refs.editable.innerText=this.html},computed:{listeners:function(){return m(m({},this.$listeners),{},{input:this.onInput})},_placeholder:function(){return this.block.forcePlaceholder||this.focused?this.block.placeholder||"Type '/' for commands":""}},methods:{getNewId:function(){return"axxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},updateTag:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.commandMenu=!1,e.commandItem=t,"page"!=t.id){n.next=11;break}return o={id:e.getNewId(),parent:e.block.page},n.next=6,e.$store.dispatch("addPage",o).then((function(){e.$store.dispatch("addBlock",{id:e.getNewId(),order:1,page:o.id,html:"",placeholder:"Untitled",forcePlaceholder:!0,noCommands:!0,tag:"h4"})}));case 6:e.$store.dispatch("editBlock",m(m({},e.block),{},{toPage:o.id,tag:"div",html:null})),e.$store.dispatch("addBlock",{id:e.getNewId(),page:e.block.page,html:"",tag:"p",order:e.block.order+.01,forcePlaceholder:!0}),e.$router.push({name:"page",params:{page:o.id}}),n.next=12;break;case 11:e.$store.dispatch("editBlock",m(m({},e.block),{},{tag:t.tag,html:e.htmlBackup}));case 12:setTimeout((function(){e.$refs.editable.innerText=e.block.html,e.setCaretToEnd(e.$refs.editable),e.$refs.editable.focus()}),0);case 13:case"end":return n.stop()}}),n)})))()},onInput:function(t){this.$store.dispatch("editBlock",m(m({},this.block),{},{html:t.target.innerText}))},onKeyDown:function(t){if(this.commandMenu)this.$refs.editableMenu.onKeyDown(t);else{switch(t.key){case"/":this.block.noCommands||(this.htmlBackup=this.block.html,this.commandMenu=!0);break;case"Enter":"Shift"!=this.previousKey&&(t.preventDefault(),this.$emit("add-block",t.target));break;case"Backspace":this.block.html||(t.preventDefault(),this.$emit("delete-block",t.target));break;case"ArrowUp":t.preventDefault();var e=this.getPreviousSibling(this.$refs.editable,".block");e&&(e.focus(),this.setCaretToEnd(e));break;case"ArrowDown":t.preventDefault();var n=this.getNextSibling(this.$refs.editable,".block");n&&(n.focus(),this.setCaretToEnd(n))}this.previousKey=t.key}},setCaretToEnd:function(element){var t=document.createRange(),e=window.getSelection();t.selectNodeContents(element),t.collapse(!1),e.removeAllRanges(),e.addRange(t),element.focus()}},watch:{"block.id":{handler:function(t){this.html=this.block.html,this.$refs.editable.innerText=this.html}}},provide:function(){return{}}},h=(n(367),n(34)),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CommandMenu",{key:t.block.tag,ref:"editableMenu",on:{select:t.updateTag},model:{value:t.commandMenu,callback:function(e){t.commandMenu=e},expression:"commandMenu"}},[n(t.block.tag,t._g({ref:"editable",tag:"component",staticClass:"block",staticStyle:{width:"100%"},attrs:{contenteditable:"",placeholder:t.commandItem?t.commandItem.label:t._placeholder,id:t.block.id},domProps:{innerHTML:t._s(t.html)},on:{keydown:t.onKeyDown,focus:function(e){t.focused=!0},blur:function(e){t.focused=!1}}},t.listeners))],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CommandMenu:n(361).default})},360:function(t,e,n){"use strict";n.r(e);n(12),n(18),n(36),n(40),n(43),n(70);var o=n(14),r=n(2),c=n(69),l=n(355),d=n(359),m=n(130);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={mixins:[l.a],components:{EditableBlock:d.default,"n-button":m.default},props:{page:Object},validations:{},data:function(){return{}},created:function(){},mounted:function(){},computed:h(h({},Object(c.b)(["getBlocksByPageId","getPageById","getPageTitleById"])),{},{blocks:function(){return this.getBlocksByPageId(this.page.id).sort((function(a,b){return a.order-b.order}))}}),methods:{getNewId:function(){return"axxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},addBlock:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r={id:n.getNewId(),page:n.page.id,html:"",tag:"p",order:e.order+.01},o.next=3,n.$store.dispatch("addBlock",r);case 3:setTimeout((function(){n.getNextSibling(t,".block").focus()}),0);case 4:case"end":return o.stop()}}),o)})))()},deleteBlock:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(r=n.getPreviousSibling(t,".block"))){o.next=6;break}return n.setCaretToEnd(r),r.focus(),o.next=6,n.$store.dispatch("deleteBlock",e);case 6:case"end":return o.stop()}}),o)})))()},setCaretToEnd:function(element){var t=document.createRange(),e=window.getSelection();t.selectNodeContents(element),t.collapse(!1),e.removeAllRanges(),e.addRange(t),element.focus()}},watch:{},provide:function(){return{}},inject:[]},k=n(34),component=Object(k.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[t._l(t.blocks,(function(e){return[e.toPage?n("n-button",{attrs:{block:""},on:{click:function(n){return t.$router.push({name:"page",params:{page:e.toPage}})}}},[n("div",{staticClass:"pr-2"},[t._v(t._s(t.getPageById(e.toPage).emoji||"ğŸ“„"))]),t._v(" "),n("div",{staticClass:"font-weight-medium",staticStyle:{"border-bottom":"1px solid rgba(255, 255, 255, 0.14)"}},[t._v("\n        "+t._s(t.getBlocksByPageId(e.toPage)[0].html?t.getBlocksByPageId(e.toPage)[0].html:"Untitled")+"\n      ")])]):n("EditableBlock",{attrs:{block:e},on:{"open-menu":function(n){return t.openCommandMenu(e)},"add-block":function(n){return t.addBlock(n,e)},"delete-block":function(n){return t.deleteBlock(n,e)},"update-tag":function(t){e.tag=t}}})]}))],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{EditableBlock:n(359).default,NButton:n(130).default})},361:function(t,e,n){"use strict";n.r(e);var o={mixins:[],components:{},props:{value:{}},validations:{},data:function(){return{items:[{id:"text",tag:"p",label:"Text",description:"Just startt writing with plain text.",img:"https://www.notion.so/images/blocks/text.9fdb530b.png"},{id:"heading-1",tag:"h1",label:"Heading 1",description:"Big section heading.",img:"https://www.notion.so/images/blocks/header.57a7576a.png"},{id:"heading-2",tag:"h2",label:"Heading 2",description:"Medium section heading.",img:"https://www.notion.so/images/blocks/subheader.9aab4769.png"},{id:"heading-3",tag:"h3",label:"Heading 3",description:"Small section heading.",img:"https://www.notion.so/images/blocks/subsubheader.d0ed0bb3.png"},{id:"page",tag:null,label:"Page",description:"Embed a sub-page inside this page.",img:"https://www.notion.so/images/blocks/page.83b0bf31.png"}],selectedItem:0,searchedItems:[],command:"",menu:!1}},created:function(){},mounted:function(){},computed:{_items:function(){return this.command.length>0?this.searchedItems:this.items},elId:function(){return this.elementId?"#"+this.elementId:null},posX:function(){return this.elId?(console.log(document.querySelector(this.elId)),document.querySelector(this.elId).getBoundingClientRect().left):null},posY:function(){return this.elId?document.querySelector(this.elId).getBoundingClientRect().bottom-500:null}},methods:{onKeyDown:function(t){var e=this;if(this.value)switch(t.key){case"Enter":t.preventDefault(),this.$emit("select",this._items[this.selectedItem]),this.menu=!1;break;case"Backspace":this.command||(this.menu=!1),this.command=this.command.substring(0,this.command.length-1);break;case"ArrowUp":t.preventDefault();var n=0==this.selectedItem?this._items.length-1:this.selectedItem-1;this.selectedItem=n;break;case"ArrowDown":t.preventDefault();var o=this.selectedItem===this._items.length-1?0:this.selectedItem+1;this.selectedItem=o;break;default:this.command=this.command+t.key,this.$search(this.command,this.items,{keys:["tag","label"]}).then((function(t){e.searchedItems=t,e.selectedItem=0}))}}},watch:{value:function(t){t&&(this.menu=!0)},menu:function(t){!t&&this.$emit("input",!1),t&&(this.selectedItem=0)}},provide:function(){return{}},inject:[]},r=(n(363),n(34)),c=n(35),l=n.n(c),d=n(127),m=n(158),f=n(100),h=n(52),v=n(161),k=n(376),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"offset-y":"",bottom:"","nudge-bottom":"5","max-width":"324"},on:{keydown:t.onKeyDown},scopedSlots:t._u([{key:"activator",fn:function(e){e.on,e.attrs;return[t._t("default")]}}],null,!0),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("v-list",{staticClass:"pa-0 pb-2",attrs:{dense:"",color:"rgb(63, 68, 71)"}},[n("div",{staticClass:"px-4 py-2 font-weight-medium text--disabled",staticStyle:{"font-size":"11px !important"}},[t._v("\n      BASIC BLOCKS\n    ")]),t._v(" "),n("v-list-item-group",{attrs:{"active-class":"command-menu-active"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},t._l(t._items,(function(e){return n("v-list-item",{key:e.id,staticClass:"px-4 py-1",staticStyle:{transition:"background 20ms ease-in 0s"},on:{click:function(n){return t.$emit("select",e)}}},[n("div",{staticClass:"pr-2"},[n("v-img",{staticClass:"rounded white",attrs:{width:"46",height:"46",src:e.img}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n            "+t._s(e.label)+"\n          ")]),t._v(" "),n("v-list-item-subtitle",{staticClass:"text--disabled font-weight-regular"},[t._v("\n            "+t._s(e.description)+"\n          ")])],1)],1)})),1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VImg:d.a,VList:m.a,VListItem:f.a,VListItemContent:h.a,VListItemGroup:v.a,VListItemSubtitle:h.b,VListItemTitle:h.c,VMenu:k.a})},363:function(t,e,n){"use strict";n(356)},364:function(t,e,n){(e=n(9)(!1)).push([t.i,".v-btn{letter-spacing:normal;text-transform:none}html{overflow-y:auto}h4{font-size:40px;font-weight:700}.command-menu-active{background:#474c50!important}",""]),t.exports=e},367:function(t,e,n){"use strict";n(357)},368:function(t,e,n){(e=n(9)(!1)).push([t.i,".v-btn{letter-spacing:normal;text-transform:none}html{overflow-y:auto}h4{font-size:40px;font-weight:700}.block{border-radius:5px;padding:2px 0;margin-bottom:5px!important;outline:none;cursor:text}.block:empty:before{content:attr(placeholder);color:hsla(0,0%,100%,.2)!important;-webkit-text-fill-color:hsla(0,0%,100%,.2)!important}",""]),t.exports=e},377:function(t,e,n){"use strict";n.r(e);n(12),n(43),n(70);var o=n(14),r=n(360),c=n(358),l={head:function(){return{title:this.$store.getters.getPageTitleById(this.$route.params.page)}},mixins:[],components:{Page:r.default,PageControls:c.default},validations:{},data:function(){return{page:null}},fetchOnServer:!1,fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.getters.getPageById(t.$route.params.page);case 2:return t.page=e.sent,e.next=5,new Promise((function(t){setTimeout((function(){t()}),Math.max(.3,2e3*Math.random()))}));case 5:case"end":return e.stop()}}),e)})))()},created:function(){},mounted:function(){},computed:{},methods:{},watch:{},provide:function(){return{}},inject:[]},d=n(34),m=n(35),f=n.n(m),h=n(345),v=n(375),k=n(346),component=Object(d.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return this.$fetchState.pending?e("v-row",{staticClass:"align-self-start",attrs:{justify:"center"}},[e("v-col",{staticStyle:{"margin-top":"200px"},attrs:{cols:"auto"}},[e("v-progress-circular",{attrs:{indeterminate:"",color:"grey"}})],1)],1):e("v-row",{staticClass:"align-self-start align-items-stretch",attrs:{"no-gutters":"",justify:"center"}},[e("v-col",{attrs:{cols:"11",lg:"8",xl:"5"}},[e("PageControls",{attrs:{page:this.page}}),this._v(" "),e("Page",{attrs:{page:this.page}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{PageControls:n(358).default,Page:n(360).default}),f()(component,{VCol:h.a,VProgressCircular:v.a,VRow:k.a})}}]);